# HPDS Ingest Service - IntelliJ Profile Configuration
# Spring Boot property binding - supports CLI args, env vars, and properties files

# Parquet dataset base directory (parent of dataset_xxx directories)
ingest.parquet.base-dir=/Users/thomas/IdeaProjects/local-parquet-poc-dhdr/nih-nhlbi-bdc-recover-adult-phs003463-v5-r1-c1/data/DHDR

# Dataset config (can be single JSONL file or directory of JSONL files)
ingest.parquet.config-path=/Users/thomas/IdeaProjects/local-parquet-poc-dhdr/_recover-dhdr-poc/pic-sure-hpds/configs/fitbitecg.jsonl

# Patient ID mapping files (step1: participantId->dbgap_subject_id, step2: dbgap_subject_id->patientNum)
ingest.mapping.dbgap-file=/Users/thomas/IdeaProjects/local-parquet-poc-dhdr/_recover-dhdr-poc/pic-sure-hpds/input/phs003463.v5.txt
ingest.mapping.patient-file=/Users/thomas/IdeaProjects/local-parquet-poc-dhdr/_recover-dhdr-poc/pic-sure-hpds/input/RECOVER_ADULT_PatientMapping.v2.csv

# Output workspace (encryption key will be auto-generated here if not provided)
ingest.output.dir=/tmp/hpds-fitbitecg-full-profile/out

# Optional: Override spool and failure file paths (defaults use output.dir)
# ingest.spool.dir=/tmp/hpds-fitbitecg-full-profile/spool
# ingest.failure.file=/tmp/hpds-fitbitecg-full-profile/failures.jsonl

# Optional: CSV directory for legacy ingestion (null = disabled)
# ingest.csv.dir=/path/to/csv/files

# Optional: Encryption key name (default: encryption_key)
# ingest.encryption.key-name=encryption_key

# Optional: Mapping inspection mode (default: false)
# ingest.mapping.inspect-only=false

# Optional: Batch size (default: 10000)
# ingest.batch.size=10000

# JVM Options (configure in IntelliJ Run Configuration VM Options, NOT here):
# -Xms4g -Xmx8g
# --add-opens=java.base/java.nio=org.apache.arrow.memory.core,ALL-UNNAMED
# --add-opens=java.base/sun.nio.ch=org.apache.arrow.memory.core,ALL-UNNAMED
# --add-opens=java.base/java.lang=ALL-UNNAMED
